apiVersion: v1
items:
- apiVersion: v1
  kind: ImageStream
  metadata:
    annotations:
      openshift.io/generated-by: OpenShiftNewApp
    creationTimestamp: null
    labels:
      app: fx-system-trade
    name: haskell
  spec:
    lookupPolicy:
      local: false
    tags:
    - annotations:
        openshift.io/imported-from: haskell
      from:
        kind: DockerImage
        name: haskell:latest
      generation: null
      importPolicy: {}
      name: "latest"
      referencePolicy:
        type: ""
  status:
    dockerImageRepository: ""
- apiVersion: v1
  kind: ImageStream
  metadata:
    annotations:
      openshift.io/generated-by: OpenShiftNewApp
    creationTimestamp: null
    labels:
      app: fx-system-trade
    name: fx-system-trade
  spec:
    lookupPolicy:
      local: false
  status:
    dockerImageRepository: ""
- apiVersion: v1
  kind: BuildConfig
  metadata:
    annotations:
      openshift.io/generated-by: OpenShiftNewApp
    creationTimestamp: null
    labels:
      app: fx-system-trade
    name: fx-system-trade
  spec:
    nodeSelector: null
    output:
      to:
        kind: ImageStreamTag
        name: fx-system-trade:latest
    postCommit: {}
    resources: {}
    source:
      git:
        uri: https://github.com/andesm/fx-system-trade.git
        #ref: "vec"
      type: Git
    strategy:
      dockerStrategy:
        from:
          kind: ImageStreamTag
          name: haskell:latest
      type: Docker
    triggers:
    - github:
        secret: ybTfVr1U-3LE8RCjxYkU
      type: GitHub
    - generic:
        secret: RtFgZcI_7mlAGsRdRUNA
      type: Generic
    - type: ConfigChange
    - imageChange: {}
      type: ImageChange
  status:
    lastVersion: 0
- apiVersion: v1
  kind: DeploymentConfig
  metadata:
    annotations:
      openshift.io/generated-by: OpenShiftNewApp
    creationTimestamp: null
    labels:
      app: fx-system-trade-backtest
    name: fx-system-trade-backtest
  spec:
    replicas: 1
    selector:
      app: fx-system-trade
      deploymentconfig: fx-system-trade
    strategy:
      resources: {}
    template:
      metadata:
        annotations:
          openshift.io/generated-by: OpenShiftNewApp
        creationTimestamp: null
        labels:
          app: fx-system-trade
          deploymentconfig: fx-system-trade
      spec:
        securityContext:
          runAsUser: 0
        containers:
        - image: fx-system-trade
          name: fx-system-trade
          #command: ["tail", "-f", "/dev/null"]
          #command: ["./Fx", "backtest"]
          command: ["stack", "exec", "--", "fx-exe", "backtest"]
          resources: {}
          volumeMounts:
          - name: localtime
            mountPath: /etc/localtime
        volumes:
        - name: localtime
          hostPath:
            path: /etc/localtime
    test: false
    triggers:
    - type: ConfigChange
    - imageChangeParams:
        automatic: true
        containerNames:
        - fx-system-trade
        from:
          kind: ImageStreamTag
          name: fx-system-trade:latest
      type: ImageChange
  status:
    availableReplicas: 0
    latestVersion: 0
    observedGeneration: 0
    replicas: 0
    unavailableReplicas: 0
    updatedReplicas: 0
- apiVersion: v1
  kind: DeploymentConfig
  metadata:
    annotations:
      openshift.io/generated-by: OpenShiftNewApp
    creationTimestamp: null
    labels:
      app: fx-system-trade-trade-practice
    name: fx-system-trade-trade-practice
  spec:
    replicas: 1
    selector:
      app: fx-system-trade
      deploymentconfig: fx-system-trade
    strategy:
      resources: {}
    template:
      metadata:
        annotations:
          openshift.io/generated-by: OpenShiftNewApp
        creationTimestamp: null
        labels:
          app: fx-system-trade
          deploymentconfig: fx-system-trade
      spec:
        securityContext:
          runAsUser: 0
        containers:
        - image: fx-system-trade
          name: fx-system-trade
          #command: ["./Fx", "trade-practice"]
          command: ["stack", "exec", "--", "fx-exe", "trade-practice"]
          resources: {}
          volumeMounts:
          - name: localtime
            mountPath: /etc/localtime
        - env:
          - name: TRADE_PRACTICE_BEARER
            valueFrom:
              secretKeyRef:
                key: TRADE_PRACTICE_BEARER
                name: secret-for-fx-system-trade
          - name: TRADE_PRACTICE_URL
            valueFrom:
              secretKeyRef:
                key: TRADE_PRACTICE_URL
                name: secret-for-fx-system-trade
        volumes:
        - name: localtime
          hostPath:
            path: /etc/localtime
    test: false
    triggers:
    - type: ConfigChange
    - imageChangeParams:
        automatic: true
        containerNames:
        - fx-system-trade
        from:
          kind: ImageStreamTag
          name: fx-system-trade:latest
      type: ImageChange
  status:
    availableReplicas: 0
    latestVersion: 0
    observedGeneration: 0
    replicas: 0
    unavailableReplicas: 0
    updatedReplicas: 0
- apiVersion: v1
  kind: DeploymentConfig
  metadata:
    annotations:
      openshift.io/generated-by: OpenShiftNewApp
    creationTimestamp: null
    labels:
      app: fx-system-trade-trade-sim
    name: fx-system-trade-trade-sim
  spec:
    replicas: 1
    selector:
      app: fx-system-trade
      deploymentconfig: fx-system-trade
    strategy:
      resources: {}
    template:
      metadata:
        annotations:
          openshift.io/generated-by: OpenShiftNewApp
        creationTimestamp: null
        labels:
          app: fx-system-trade
          deploymentconfig: fx-system-trade
      spec:
        securityContext:
          runAsUser: 0
        containers:
        - image: fx-system-trade
          name: fx-system-trade
          #command: ["./Fx", "trade-sim"]
          command: ["stack", "exec", "--", "fx-exe", "trade-sim"]
          resources: {}
          volumeMounts:
          - name: localtime
            mountPath: /etc/localtime
        volumes:
        - name: localtime
          hostPath:
            path: /etc/localtime
    test: false
    triggers:
    - type: ConfigChange
    - imageChangeParams:
        automatic: true
        containerNames:
        - fx-system-trade
        from:
          kind: ImageStreamTag
          name: fx-system-trade:latest
      type: ImageChange
  status:
    availableReplicas: 0
    latestVersion: 0
    observedGeneration: 0
    replicas: 0
    unavailableReplicas: 0
    updatedReplicas: 0
kind: List
metadata: {}
---
apiVersion: v1
items:
- apiVersion: v1
  kind: ImageStream
  metadata:
    annotations:
      openshift.io/generated-by: OpenShiftNewApp
    creationTimestamp: null
    labels:
      app: mongo
    name: mongo
  spec:
    lookupPolicy:
      local: false
    tags:
    - annotations:
        openshift.io/imported-from: mongo
      from:
        kind: DockerImage
        name: mongo
      generation: null
      importPolicy: {}
      name: latest
      referencePolicy:
        type: ""
  status:
    dockerImageRepository: ""
- apiVersion: v1
  kind: DeploymentConfig
  metadata:
    annotations:
      openshift.io/generated-by: OpenShiftNewApp
    creationTimestamp: null
    labels:
      app: mongo
    name: mongo
  spec:
    replicas: 1
    selector:
      app: mongo
      deploymentconfig: mongo
    strategy:
      resources: {}
    template:
      metadata:
        annotations:
          openshift.io/generated-by: OpenShiftNewApp
        creationTimestamp: null
        labels:
          app: mongo
          deploymentconfig: mongo
      spec:
        containers:
        - image: mongo
          name: mongo
          ports:
          - containerPort: 27017
            protocol: TCP
          resources: {}
          volumeMounts:
          - name: nfs-share
            mountPath: /data/db
            subPath: openshift/db/mongo
        volumes:
        - name: nfs-share
          persistentVolumeClaim:
            claimName: flg-pvc
    test: false
    triggers:
    - type: ConfigChange
    - imageChangeParams:
        automatic: true
        containerNames:
        - mongo
        from:
          kind: ImageStreamTag
          name: mongo:latest
      type: ImageChange
  status:
    availableReplicas: 0
    latestVersion: 0
    observedGeneration: 0
    replicas: 0
    unavailableReplicas: 0
    updatedReplicas: 0
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      openshift.io/generated-by: OpenShiftNewApp
    creationTimestamp: null
    labels:
      app: mongo
    name: mongo
  spec:
    ports:
    - name: 27017-tcp
      port: 27017
      protocol: TCP
      targetPort: 27017
    selector:
      app: mongo
      deploymentconfig: mongo
  status:
    loadBalancer: {}
kind: List
metadata: {}
---
apiVersion: v1
kind: Service
metadata:
  annotations:
    openshift.io/generated-by: OpenShiftNewApp
  creationTimestamp: '2018-07-14T20:34:03Z'
  labels:
    app: mongo
  name: mongo-nodeport
  namespace: flg
  resourceVersion: '328368'
  selfLink: /api/v1/namespaces/flg/services/mongo-nodeport
  uid: 3f32bd68-87a5-11e8-a003-000c29e709e7
spec:
  clusterIP: 172.30.227.30
  externalTrafficPolicy: Cluster
  ports:
    - name: 27017-tcp
      nodePort: 30017
      port: 27017
      protocol: TCP
      targetPort: 27017
  selector:
    app: mongo
    deploymentconfig: mongo
  sessionAffinity: None
  type: NodePort
status:
  loadBalancer: {}
---
apiVersion: v1
items:
- apiVersion: v1
  kind: ImageStream
  metadata:
    annotations:
      openshift.io/generated-by: OpenShiftNewApp
    creationTimestamp: null
    labels:
      app: get-rate
    name: python
  spec:
    lookupPolicy:
      local: false
    tags:
    - annotations:
        openshift.io/imported-from: python:3.7.3
      from:
        kind: DockerImage
        name: python:3.7.3
      generation: null
      importPolicy: {}
      name: "3.7.3"
      referencePolicy:
        type: ""
  status:
    dockerImageRepository: ""
- apiVersion: v1
  kind: ImageStream
  metadata:
    annotations:
      openshift.io/generated-by: OpenShiftNewApp
    creationTimestamp: null
    labels:
      app: get-rate
    name: get-rate
  spec:
    lookupPolicy:
      local: false
  status:
    dockerImageRepository: ""
- apiVersion: v1
  kind: BuildConfig
  metadata:
    annotations:
      openshift.io/generated-by: OpenShiftNewApp
    creationTimestamp: null
    labels:
      app: get-rate
    name: get-rate
  spec:
    nodeSelector: null
    output:
      to:
        kind: ImageStreamTag
        name: get-rate:latest
    postCommit: {}
    resources: {}
    source:
      contextDir: get_rate
      git:
        uri: https://github.com/andesm/fx-system-trade.git
        #ref: "opt"
      type: Git
    strategy:
      dockerStrategy:
        from:
          kind: ImageStreamTag
          name: python:3.7.3
      type: Docker
    triggers:
    - github:
        secret: ZP8b0sDH3nMJDcMXyi1U
      type: GitHub
    - generic:
        secret: SJka0xLWXvSDPSRZXxjY
      type: Generic
    - type: ConfigChange
    - imageChange: {}
      type: ImageChange
  status:
    lastVersion: 0
- apiVersion: v1
  kind: DeploymentConfig
  metadata:
    annotations:
      openshift.io/generated-by: OpenShiftNewApp
    creationTimestamp: null
    labels:
      app: get-rate
    name: get-rate
  spec:
    replicas: 1
    selector:
      app: get-rate
      deploymentconfig: get-rate
    strategy:
      resources: {}
    template:
      metadata:
        annotations:
          openshift.io/generated-by: OpenShiftNewApp
        creationTimestamp: null
        labels:
          app: get-rate
          deploymentconfig: get-rate
      spec:
        containers:
        - image: get-rate:latest
          name: get-rate
          resources: {}
    test: false
    triggers:
    - type: ConfigChange
    - imageChangeParams:
        automatic: true
        containerNames:
        - get-rate
        from:
          kind: ImageStreamTag
          name: get-rate:latest
      type: ImageChange
  status:
    availableReplicas: 0
    latestVersion: 0
    observedGeneration: 0
    replicas: 0
    unavailableReplicas: 0
    updatedReplicas: 0
kind: List
metadata: {}
---
apiVersion: v1
items:
- apiVersion: v1
  kind: ImageStream
  metadata:
    annotations:
      openshift.io/generated-by: OpenShiftNewApp
    creationTimestamp: null
    labels:
      app: get-rate-data
    name: get-rate-data
  spec:
    lookupPolicy:
      local: false
  status:
    dockerImageRepository: ""
- apiVersion: v1
  kind: BuildConfig
  metadata:
    annotations:
      openshift.io/generated-by: OpenShiftNewApp
    creationTimestamp: null
    labels:
      app: get-rate-data
    name: get-rate-data
  spec:
    nodeSelector: null
    output:
      to:
        kind: ImageStreamTag
        name: get-rate-data:latest
    postCommit: {}
    resources: {}
    source:
      contextDir: get_rate_data
      git:
        uri: https://github.com/andesm/fx-system-trade.git
        #ref: "opt"
      type: Git
    strategy:
      dockerStrategy:
        from:
          kind: ImageStreamTag
          name: python:3.7.3
          namespace: flg
      type: Docker
    triggers:
    - github:
        secret: M4_V_EVT61Fn_tq55AEx
      type: GitHub
    - generic:
        secret: scMbnfs6X3m4Rcngw29X
      type: Generic
    - type: ConfigChange
    - imageChange: {}
      type: ImageChange
  status:
    lastVersion: 0
- apiVersion: batch/v1beta1
  kind: CronJob
  metadata:
    annotations:
      openshift.io/generated-by: OpenShiftNewApp
    creationTimestamp: null
    labels:
      app: get-rate-data
    name: get-rate-data
  spec:
    schedule: "0 0 * * 0"  
    jobTemplate:
      spec:
        template:        
          metadata:
            annotations:
              openshift.io/generated-by: OpenShiftNewApp
            creationTimestamp: null
            labels:
              parrent: get-rate-data
          spec:    
            containers:
            - image: docker-registry.default.svc:5000/flg/get-rate-data:latest
              name: get-rate-data
              namespace: flg
              resources: {}
              volumeMounts:
              - name: nfs-share
                mountPath: /get_rate_data
                subPath: home/andesm/dev/fx-system-trade/get_rate_data
            volumes:
            - name: nfs-share
              persistentVolumeClaim:
                claimName: flg-pvc
            restartPolicy: OnFailure 
kind: List
metadata: {}
